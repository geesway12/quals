<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="theme-color" content="#2196f3"><title>Focus Group Discussion - QualiData</title><link rel="apple-touch-icon" sizes="180x180" href="/logo.png"><link rel="icon" type="image/png" sizes="32x32" href="/logo.png"><link rel="icon" type="image/png" sizes="16x16" href="/logo.png"><link rel="shortcut icon" href="/logo.png"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"><style>body{background:linear-gradient(135deg,#667eea 0,#764ba2 100%);min-height:100vh;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;position:relative}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background-image:url('assets/collaboration.png');background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.1;z-index:-1}.navbar{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);box-shadow:0 2px 20px rgba(0,0,0,.1);padding-top:1rem;padding-bottom:1rem;min-height:80px}.partner-logos{display:flex;align-items:center;gap:20px;margin-left:auto;margin-right:2rem}.partner-logos img{height:36px;opacity:.8;transition:opacity .3s ease}.partner-logos img:hover{opacity:1}@media (max-width:768px){.partner-logos{display:none}}.main-content{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-radius:15px;margin:2rem auto;padding:2rem;box-shadow:0 8px 25px rgba(0,0,0,.1);max-width:1200px}.btn-back{background:linear-gradient(135deg,#6c757d,#495057);border:none;color:#fff;padding:.5rem 1rem;border-radius:25px;text-decoration:none;transition:all .3s ease}.btn-back:hover{transform:scale(1.05);color:#fff}.card{border:none;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,.1);margin-bottom:2rem}.card-header{border-radius:15px 15px 0 0!important;border:none}.recording-controls{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff;border-radius:15px;padding:2rem;text-align:center;margin:2rem 0}.recording-btn{background:rgba(255,255,255,.2);border:2px solid #fff;color:#fff;border-radius:50px;padding:1rem 2rem;margin:.5rem;font-weight:600;transition:all .3s ease}.recording-btn:hover{background:#fff;color:#ff9800}.recording-btn.recording{background:#fff;color:#ff9800;animation:pulse 2s infinite}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}.participant-tracker{background:#f8f9fa;border-radius:10px;padding:1rem;margin:1rem 0}.form-control,.form-select{border-radius:10px;border:2px solid #e9ecef;transition:all .3s ease}.form-control:focus,.form-select:focus{border-color:#ff9800;box-shadow:0 0 0 .25rem rgba(255,152,0,.25)}.btn-primary{background:linear-gradient(135deg,#ff9800,#f57c00);border:none;border-radius:25px;padding:.75rem 2rem}@media (max-width:768px){.main-content{margin:1rem;padding:1rem}.recording-controls{padding:1.5rem}.recording-btn{display:block;width:100%;margin:.5rem 0}}</style></head><body><nav class="navbar navbar-expand-lg fixed-top"><div class="container d-flex align-items-center"><a href="index.html" class="btn-back me-3"><i class="bi bi-arrow-left me-2"></i>Back </a><img src="/logo.png" alt="QualiData Logo" style="height:40px;margin-right:12px"> <span class="navbar-brand fw-bold text-primary mb-0">Focus Group Discussion</span><div class="partner-logos"><img src="assets/uhas.jpg" alt="UHAS" title="University of Health and Allied Sciences"> <img src="assets/hpi.png" alt="HPI" title="Hasso Plattner Institute"> <img src="assets/ghs.jpg" alt="GHS" title="Ghana Health Service"> <img src="assets/cpmr.png" alt="CPMR" title="Centre for Plant Medicine Research"></div></div></nav><div class="main-content" style="margin-top:120px"><div class="container-fluid"><ul class="nav nav-tabs mb-4" id="fgdTabNav" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="setup-tab" data-bs-toggle="tab" data-bs-target="#setupPanel" type="button" role="tab">Setup</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendancePanel" type="button" role="tab">Attendance</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="guide-tab" data-bs-toggle="tab" data-bs-target="#guidePanel" type="button" role="tab">Group Guide</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="recording-tab" data-bs-toggle="tab" data-bs-target="#recordingPanel" type="button" role="tab">Recording</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="notes-tab" data-bs-toggle="tab" data-bs-target="#notesPanel" type="button" role="tab">Session Notes</button></li></ul><div class="tab-content" id="fgdTabContent"><div class="tab-pane fade show active" id="setupPanel" role="tabpanel"><div class="card mb-4"><div class="card-header bg-warning text-white"><h5 class="mb-0"><i class="bi bi-gear me-2"></i>Session Setup</h5></div><div class="card-body"><div class="row"><div class="col-md-6 mb-3"><label for="sessionDate" class="form-label">Session Date & Time</label> <input type="datetime-local" class="form-control" id="sessionDate" required></div><div class="col-md-6 mb-3"><label for="sessionLocation" class="form-label">Location</label> <input type="text" class="form-control" id="sessionLocation" placeholder="e.g., Conference Room A"></div><div class="col-md-6 mb-3"><label for="expectedParticipants" class="form-label">Expected Participants</label> <input type="number" class="form-control" id="expectedParticipants" min="3" max="12" value="6"></div><div class="col-md-6 mb-3"><label for="fgdGroup" class="form-label">Select Group</label> <select class="form-select" id="fgdGroup"><option value="Patient">Hypertensive Patients</option><option value="Clinician">Clinicians</option><option value="Herbalist">Herbal Practitioners</option><option value="Caregiver">Caregivers</option></select></div></div></div></div></div><div class="tab-pane fade" id="attendancePanel" role="tabpanel"><div class="card mb-4"><div class="card-header bg-info text-white"><h5 class="mb-0"><i class="bi bi-person-check me-2"></i>Participant Attendance</h5></div><div class="card-body"><div class="participant-tracker"><div class="row mb-3"><div class="col-md-4"><input type="text" class="form-control" id="participantId" placeholder="Participant ID"></div><div class="col-md-3"><input type="text" class="form-control" id="participantAge" placeholder="Age"></div><div class="col-md-3"><select class="form-select" id="participantGender"><option value="">Gender</option><option value="Male">Male</option><option value="Female">Female</option><option value="Other">Other</option></select></div><div class="col-md-2"><button type="button" class="btn btn-primary w-100" onclick="addParticipant()"><i class="bi bi-plus"></i></button></div></div><div class="row mb-2"><div class="col-md-4"><select class="form-select" id="participantFilter" onchange="updateParticipantsList()"><option value="">Show All</option><option value="Male">Male</option><option value="Female">Female</option><option value="Other">Other</option></select></div></div><div id="participantsList"><p class="text-muted">No participants added yet</p></div></div></div></div><div class="card mb-4"><div class="card-header bg-info text-white"><h5 class="mb-0"><i class="bi bi-people me-2"></i>Select Eligible Participants from Screening</h5></div><div class="card-body"><div id="eligibleParticipantsList"><p class="text-muted">Loading eligible participants...</p></div></div></div></div><div class="tab-pane fade" id="guidePanel" role="tabpanel"><div class="card mb-4" id="guidePatient"><div class="card-header bg-success text-white"><h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Hypertensive Patients Focus Group Guide</h5></div><div class="card-body"><h5 class="mb-3 text-primary">Icebreaker</h5><p><em>“Please tell us your name and one thing you do regularly to keep your blood pressure under control.”</em></p><h5 class="mb-3 text-primary">Group Norms</h5><ul><li>Speak one at a time</li><li>Everyone’s views are respected</li><li>You can choose not to answer any question</li><li>What we share here stays confidential</li></ul><h5 class="mb-3 text-primary">Discussion Prompts</h5><ul><li><strong>Diagnosis and Treatment Journey</strong><ul><li>How did you first find out you had high blood pressure?</li><li>What was your first reaction or thought at the time?</li><li>What kinds of treatments have you tried since then (e.g., hospital drugs, herbs, prayer, others)?</li></ul></li><li><strong>Perceptions and Beliefs</strong><ul><li>In your opinion, what causes or worsens high blood pressure?</li><li>What things have worked best for you in managing your BP?</li></ul></li><li><strong>Integration Thoughts</strong><ul><li>Have you ever used both hospital medicine and herbal remedies together?</li><li>Would you feel safe or confident if a doctor and herbalist worked together to support you?</li></ul></li><li><strong>Personalisation and Tools</strong><ul><li>Do you feel your treatment is based on your specific needs, or is it the same for everyone?</li><li>Would you use a mobile phone app to help track what works best for you?</li></ul></li></ul><h5 class="mb-3 text-primary">Optional Activity</h5><div class="row g-3 mb-3" id="trustOptions"><div class="col-md-2 col-6"><div class="card text-center option-card" data-option="hospital drugs"><div class="card-body py-3 position-relative"><i class="bi bi-capsule-pill display-5 text-primary"></i><div class="fw-bold mt-2">Hospital Drugs</div><span class="checkmark-overlay" style="display:none;position:absolute;top:10px;right:10px;font-size:2rem;color:#28a745"><i class="bi bi-check-circle-fill"></i></span></div></div></div><div class="col-md-2 col-6"><div class="card text-center option-card" data-option="herbs"><div class="card-body py-3 position-relative"><i class="bi bi-flower2 display-5 text-success"></i><div class="fw-bold mt-2">Herbs</div><span class="checkmark-overlay" style="display:none;position:absolute;top:10px;right:10px;font-size:2rem;color:#28a745"><i class="bi bi-check-circle-fill"></i></span></div></div></div><div class="col-md-2 col-6"><div class="card text-center option-card" data-option="prayer"><div class="card-body py-3 position-relative"><i class="bi bi-heart display-5 text-warning"></i><div class="fw-bold mt-2">Prayer</div><span class="checkmark-overlay" style="display:none;position:absolute;top:10px;right:10px;font-size:2rem;color:#28a745"><i class="bi bi-check-circle-fill"></i></span></div></div></div><div class="col-md-2 col-6"><div class="card text-center option-card" data-option="exercise"><div class="card-body py-3 position-relative"><i class="bi bi-bicycle display-5 text-info"></i><div class="fw-bold mt-2">Exercise</div><span class="checkmark-overlay" style="display:none;position:absolute;top:10px;right:10px;font-size:2rem;color:#28a745"><i class="bi bi-check-circle-fill"></i></span></div></div></div><div class="col-md-2 col-6"><div class="card text-center option-card" data-option="diet change"><div class="card-body py-3 position-relative"><i class="bi bi-egg-fried display-5 text-danger"></i><div class="fw-bold mt-2">Diet Change</div><span class="checkmark-overlay" style="display:none;position:absolute;top:10px;right:10px;font-size:2rem;color:#28a745"><i class="bi bi-check-circle-fill"></i></span></div></div></div></div><div class="mb-3"><strong>Ask:</strong> “Which of these do you trust—and why?”<div class="mt-2"><span class="text-muted">Tap cards to select multiple. Enter all reasons below.</span></div><div class="mt-2"><span id="trustChoiceCounter" class="badge bg-primary">0 selected</span></div><textarea id="trustChoiceReasons" class="form-control mt-2" rows="2" placeholder="Enter all reasons for your selected choices..."></textarea> <button id="saveTrustChoices" class="btn btn-outline-primary mt-2">Save Choices</button> <button id="exportTrustChoices" class="btn btn-outline-success mt-2 ms-2">Export Choices</button><div id="trustChoicesSaved" class="text-success mt-2" style="display:none">Choices saved!</div></div><h5 class="mb-3 text-primary">Closing</h5><p><em>“Thank you all for your time and openness. What advice do you have for us to make this study helpful for people like you?”</em></p></div></div><div class="card mb-4" id="guideClinician" style="display:none"><div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Clinicians Focus Group Guide</h5></div><div class="card-body"></div></div><div class="card mb-4" id="guideHerbalist" style="display:none"><div class="card-header bg-success text-white"><h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Herbal Practitioners Focus Group Guide</h5></div><div class="card-body"></div></div><div class="card mb-4" id="guideCaregiver" style="display:none"><div class="card-header bg-warning text-white"><h5 class="mb-0"><i class="bi bi-list-check me-2"></i>Caregivers Focus Group Guide</h5></div><div class="card-body"></div></div></div><div class="tab-pane fade" id="recordingPanel" role="tabpanel"><div class="recording-controls"><h4><i class="bi bi-record-circle me-2"></i>Recording Controls</h4><p id="recordingStatus"><i class="bi bi-stop-circle"></i> Ready to record</p><div class="d-flex flex-wrap justify-content-center"><button id="startRecording" class="recording-btn"><i class="bi bi-play-circle me-2"></i>Start Recording</button> <button id="stopRecording" class="recording-btn" disabled="disabled"><i class="bi bi-stop-circle me-2"></i>Stop Recording</button> <button id="downloadRecording" class="recording-btn" disabled="disabled"><i class="bi bi-download me-2"></i>Download Recording</button></div></div></div><div class="tab-pane fade" id="notesPanel" role="tabpanel"><div class="card"><div class="card-header bg-primary text-white"><h5 class="mb-0"><i class="bi bi-journal-text me-2"></i>Session Notes</h5></div><div class="card-body"><textarea id="sessionNotes" class="form-control" rows="8" placeholder="Record key observations, participant dynamics, emerging themes, and important quotes..."></textarea><div class="text-end mt-3"><button id="downloadNotes" class="btn btn-outline-primary" disabled="disabled"><i class="bi bi-download me-2"></i>Download Notes</button></div></div></div></div></div><footer class="mt-5 pt-4 border-top text-center" style="background:linear-gradient(135deg,#667eea 0,#764ba2 100%);color:#fff"><img src="/logo.png" alt="QualiData Logo" style="height:48px;margin-bottom:10px"><div class="mb-2 fw-bold">QualiData Research Platform</div><div id="metaInfo" class="mb-2"></div><div class="mb-2"><span class="fw-semibold">PI:</span> Godsway Sackey &mdash; <a href="mailto:godswaysackey@gmail.com" style="color:#e3f2fd">godswaysackey@gmail.com</a> &mdash; <a href="tel:+233269609634" style="color:#e3f2fd">+233 26 960 9634</a></div><div class="mb-2"><span class="fw-semibold">Supervisor:</span> Prof. Frank Baiden (UHAS) &nbsp;|&nbsp; Dr. Stefan Konigorski (HPI)</div><div class="mt-3 mb-2 small">&copy; 2025 QualiData Research Platform</div></footer></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script>let mediaRecorder,audioBlob,participants=[],eligibleParticipants=[],audioChunks=[],trustChoices=[];function generateFilename(){const e=JSON.parse(localStorage.getItem("researchAssistantDetails")||"{}"),t=(new Date).toISOString().split("T")[0].replace(/-/g,"");return`FGD_${e.initials||"RA"}_${t}`}function addParticipant(){const e=document.getElementById("participantId").value.trim(),t=document.getElementById("participantAge").value.trim(),n=document.getElementById("participantGender").value;if(!e||!t||!n)return void alert("Please fill in all participant details");const i={id:e,age:t,gender:n};participants.push(i),updateParticipantsList(),document.getElementById("participantId").value="",document.getElementById("participantAge").value="",document.getElementById("participantGender").value=""}function updateParticipantsList(){const e=document.getElementById("participantsList");0!==participants.length?e.innerHTML=participants.map((e,t)=>`\n        <div class="d-flex justify-content-between align-items-center mb-2 p-2 bg-light rounded">\n          <span><strong>${e.id}</strong> - ${e.age} years, ${e.gender}</span>\n          <button class="btn btn-sm btn-outline-danger" onclick="removeParticipant(${t})">\n            <i class="bi bi-trash"></i>\n          </button>\n        </div>\n      `).join(""):e.innerHTML='<p class="text-muted">No participants added yet</p>'}function removeParticipant(e){participants.splice(e,1),updateParticipantsList()}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".option-card"),t=document.getElementById("trustChoiceCounter"),n=document.getElementById("trustChoiceReasons");function i(){let n=0;e.forEach(e=>{const t=e.querySelector(".checkmark-overlay");e.classList.contains("border-primary")?(e.classList.add("shadow-lg"),e.style.background="rgba(40,167,69,0.08)",t.style.display="inline",n++):(e.classList.remove("shadow-lg"),e.style.background="",t.style.display="none")}),t.textContent=`${n} selected`,t.className=n?"badge bg-success":"badge bg-primary"}e.forEach(e=>{e.addEventListener("click",function(){this.classList.toggle("border-primary"),i()})}),i(),document.getElementById("saveTrustChoices").addEventListener("click",function(){trustChoices=[],e.forEach(e=>{if(e.classList.contains("border-primary")){const t=e.getAttribute("data-option");trustChoices.push({option:t})}}),localStorage.setItem("fgd_trust_choices",JSON.stringify({choices:trustChoices,reasons:n.value.trim()})),document.getElementById("trustChoicesSaved").style.display="block",setTimeout(()=>{document.getElementById("trustChoicesSaved").style.display="none"},2e3)}),document.getElementById("exportTrustChoices").addEventListener("click",function(){let e="FGD Trust Choices\n====================\n";trustChoices.forEach((t,n)=>{e+=`${n+1}. ${t.option.charAt(0).toUpperCase()+t.option.slice(1)}\n`}),e+=`\nReasons:\n${n.value.trim()||"None provided."}`;const t=new Blob([e],{type:"text/plain"}),i=URL.createObjectURL(t),a=document.createElement("a");a.href=i,a.download="fgd_trust_choices.txt",a.click(),URL.revokeObjectURL(i)})}),document.addEventListener("DOMContentLoaded",function(){const e=new Date;e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),document.getElementById("sessionDate").value=e.toISOString().slice(0,16);const t=JSON.parse(localStorage.getItem("researchAssistantDetails")||"{}");function n(e){document.getElementById("guidePatient").style.display="Patient"===e?"block":"none",document.getElementById("guideClinician").style.display="Clinician"===e?"block":"none",document.getElementById("guideHerbalist").style.display="Herbalist"===e?"block":"none",document.getElementById("guideCaregiver").style.display="Caregiver"===e?"block":"none"}document.getElementById("facilitator").value=t.fullName||"Not set";const i=document.getElementById("fgdGroup");n(i.value),i.addEventListener("change",function(){n(this.value)});const a=document.getElementById("metaInfo");t&&t.initials&&t.district&&t.hospital?a.innerHTML=`<span class='fw-semibold'>RA:</span> ${t.initials} &nbsp;|&nbsp; <span class='fw-semibold'>District:</span> ${t.district} &nbsp;|&nbsp; <span class='fw-semibold'>Hospital:</span> ${t.hospital}`:a.innerHTML="<span class='text-muted'>RA profile not set</span>"});const startRecordingButton=document.getElementById("startRecording"),stopRecordingButton=document.getElementById("stopRecording"),downloadRecordingButton=document.getElementById("downloadRecording"),recordingStatus=document.getElementById("recordingStatus"),downloadNotesButton=document.getElementById("downloadNotes"),sessionNotes=document.getElementById("sessionNotes");function loadEligibleParticipants(){const e=JSON.parse(localStorage.getItem("qualidata_participants")||"[]");eligibleParticipants=e.filter(e=>"eligible"===e.eligibilityChecklist?.eligibilityStatus),renderEligibleParticipants()}function renderEligibleParticipants(){const e=document.getElementById("eligibleParticipantsList");if(!eligibleParticipants.length)return void(e.innerHTML='<p class="text-muted">No eligible participants found. Screen participants first.</p>');const t={Patient:"Patients",Clinician:"Clinicians",Herbalist:"Herbalists","Policy Stakeholder":"Policy Stakeholders",Caregiver:"Caregivers"},n={Patient:"danger",Clinician:"primary",Herbalist:"success","Policy Stakeholder":"warning",Caregiver:"info"};let i="";["Patient","Clinician","Herbalist","Policy Stakeholder","Caregiver"].forEach(e=>{const a=eligibleParticipants.filter(t=>t.participantType===e);a.length&&(i+=`<h6 class="mt-3 mb-2 text-${n[e]}">${t[e]}</h6>\n          <div class="table-responsive mb-3">\n            <table class="table table-bordered table-sm">\n              <thead class="table-${n[e]}">\n                <tr>\n                  <th>ID</th>\n                  <th>Age</th>\n                  <th>Gender</th>\n                  <th>RA</th>\n                  <th>Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${a.map(e=>`\n                  <tr>\n                    <td>${e.participantId}</td>\n                    <td>${e.basicInfo?.ageRange||""}</td>\n                    <td>${e.basicInfo?.gender||""}</td>\n                    <td>${e.raInitials||""}</td>\n                    <td>\n                      <button class="btn btn-sm btn-outline-success" onclick="addEligibleToFGD('${e.participantId}')">\n                        <i class="bi bi-plus-circle"></i> Add to FGD\n                      </button>\n                    </td>\n                  </tr>\n                `).join("")}\n              </tbody>\n            </table>\n          </div>`)}),e.innerHTML=i}startRecordingButton.addEventListener("click",async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});mediaRecorder=new MediaRecorder(e),mediaRecorder.start(),recordingStatus.innerHTML='<i class="bi bi-record-circle text-danger"></i> Recording in progress...',startRecordingButton.disabled=!0,startRecordingButton.classList.add("recording"),stopRecordingButton.disabled=!1,mediaRecorder.addEventListener("dataavailable",e=>{audioChunks.push(e.data)}),mediaRecorder.addEventListener("stop",()=>{audioBlob=new Blob(audioChunks,{type:"audio/wav"}),audioChunks=[],recordingStatus.innerHTML='<i class="bi bi-check-circle text-success"></i> Recording complete - Ready to download',startRecordingButton.disabled=!1,startRecordingButton.classList.remove("recording"),stopRecordingButton.disabled=!0,downloadRecordingButton.disabled=!1})}catch(e){recordingStatus.innerHTML='<i class="bi bi-exclamation-triangle text-warning"></i> Error accessing microphone',console.error("Error accessing microphone:",e)}}),stopRecordingButton.addEventListener("click",()=>{mediaRecorder&&"inactive"!==mediaRecorder.state&&(mediaRecorder.stop(),mediaRecorder.stream.getTracks().forEach(e=>e.stop()))}),downloadRecordingButton.addEventListener("click",()=>{if(audioBlob){const e=URL.createObjectURL(audioBlob),t=document.createElement("a");t.href=e,t.download=`${generateFilename()}.wav`,t.click(),URL.revokeObjectURL(e)}}),sessionNotes.addEventListener("input",()=>{downloadNotesButton.disabled=!sessionNotes.value.trim()}),downloadNotesButton.addEventListener("click",()=>{const e=document.getElementById("sessionDate").value,t=document.getElementById("sessionLocation").value,n=document.getElementById("facilitator").value,i=sessionNotes.value,a=`\nFOCUS GROUP DISCUSSION SESSION NOTES\n===================================\n\nDate & Time: ${e}\nLocation: ${t}\nFacilitator: ${n}\nNumber of Participants: ${participants.length}\n\nPARTICIPANTS:\n${participants.map(e=>`- ${e.id} (${e.age} years, ${e.gender})`).join("\n")}\n\nSESSION NOTES:\n${i}\n\nGenerated by QualiData Research Platform\n      `,s=new Blob([a],{type:"text/plain"}),o=URL.createObjectURL(s),c=document.createElement("a");c.href=o,c.download=`${generateFilename()}_notes.txt`,c.click(),URL.revokeObjectURL(o)}),window.addEligibleToFGD=function(e){const t=eligibleParticipants.find(t=>t.participantId===e);t&&(participants.some(e=>e.id===t.participantId)?alert("Participant already added to FGD attendance."):(participants.push({id:t.participantId,age:t.basicInfo?.ageRange||t.basicInfo?.age||"",gender:t.basicInfo?.gender||""}),updateParticipantsList()))},loadEligibleParticipants()</script></body></html>